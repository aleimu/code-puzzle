一个服务器监控一个端口，比如80端口，它为什么可以建立上成千上万的连接？

首先， 一个TCP连接需要由四元组来形成，即(src_ip,src_port,dst_ip,dst_port)。当一个连接请求过来的时候，服务端调用accept函数，新生成一个socket，这个socket所占用的本地端口依然是80端口。
由四元组就很容易分析到了，同一个(src_ip,src_port)，它所对应的(dst_ip,dst_port)可以无穷变化，这样就可以建立很多个客户端的请求了。

同一台机器的同一个端口只可以被一个进程使用，一般用于tcp，或者udp。那一个进程使用同一个端口同时监听tcp、udp请求，是否可以呢？
答案：可以。
端口可以形象地比喻成操作系统上的编号唯一的文件，应用程序和网络协议可以对其进行i/o操作。
端口的唯一性的标识不是端口号，而是端口号和协议名称的组合，应用程序和协议寻址时就是靠的这个组合
TCP、UDP可以绑定同一端口来进行通信,即使不是同一进程也是可以的.


# 时间轮算法

常见的时间轮实现有两种：

简单时间轮（Simple Timing Wheel）—— 比如 Netty4 的 HashedWheelTimer。
层级时间轮（Hierarchical Timing Wheels）—— 比如 Kafka 的 Purgatory。

https://blog.csdn.net/xinzhongtianxia/article/details/86221241
https://github.com/RussellLuo/timingwheel
https://github.com/raylin0310/timewheel/blob/master/timewheel.go

